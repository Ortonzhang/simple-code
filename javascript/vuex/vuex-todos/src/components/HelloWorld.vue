<template>
  <div class="hello">
    <h1>{{ name }}</h1>
    <input type="text" v-model="msg">
    <button @click="NEWNAME({msg})">æ›´æ”¹æ ‡é¢˜</button>
    <ul>
      <li v-for="item in todos" :key="item.id">{{item.text}}</li>
    </ul>
    <button @click="FILTER_TODOS">è·å–å‘¨æ°ä¼¦å”±çš„æ­Œ</button>
    <!-- <button @click="add">æ·»åŠ ğŸ˜Š</button> -->
    <button @click="addmsg({string:'ğŸ˜Š'})">æ·»åŠ ğŸ˜Š</button>
  </div>
</template>

<script>
import { createNamespacedHelpers } from 'vuex'

// ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°
const { mapState, mapMutations, mapActions } = createNamespacedHelpers('test') // éœ€è¦è·å–testæ¨¡å—ä¸‹çš„æ•°æ® 
export default {
  data () {
    return {
      msg: ''
    }
  },
  computed : {
    ...mapState(['name', 'todos']),
  },
  mounted() {
    console.log(this.$store.state.test)
  },
  methods:{
    // change(){
    //   this.$store.commit({
    //     type:'NEWNAME',
    //     msg: this.msg 
    //   })
    //   this.msg = ''
    // },
    // getlist(){
    //   this.$store.commit('FILTER_TODOS')
    // },
    ...mapMutations(['FILTER_TODOS', 'NEWNAME']),
    ...mapActions(['addmsg']),
    // add(){
    //   this.$store.dispatch('addmsg', {string: 'ğŸ˜„'})
    // }

  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h1, h2 {
  font-weight: normal;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  margin: 10px;
}
a {
  color: #42b983;
}
</style>
